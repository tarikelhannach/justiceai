# .env.example - Variables de Entorno para Sistema Judicial Digital Marruecos

# ========================================
# CONFIGURACIÓN BÁSICA DEL SISTEMA
# ========================================
APP_NAME="Sistema Judicial Digital - Marruecos"
APP_VERSION="1.0.0"
ENVIRONMENT=development
DEBUG=true

# ========================================
# BASE DE DATOS POSTGRESQL
# ========================================
# Formato: postgresql://usuario:password@host:puerto/nombre_db
DATABASE_URL=postgresql://justicia:CHANGE_THIS_PASSWORD@db:5432/justicia_db
POSTGRES_DB=justicia_db
POSTGRES_USER=justicia
POSTGRES_PASSWORD=CHANGE_THIS_PASSWORD
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30

# ========================================
# REDIS (CACHE Y SESIONES)
# ========================================
REDIS_URL=redis://localhost:6379/0
CACHE_DEFAULT_TTL=3600

# ========================================
# ELASTICSEARCH (BÚSQUEDA)
# ========================================
ELASTICSEARCH_URL=http://localhost:9200
ELASTICSEARCH_INDEX=justicia_cases

# ========================================
# SEGURIDAD Y AUTENTICACIÓN
# ========================================
# IMPORTANTE: Cambiar en producción - mínimo 32 caracteres
SECRET_KEY=change-this-super-secret-key-in-production-minimum-32-characters
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ========================================
# CONFIGURACIÓN OCR
# ========================================
TESSERACT_CMD=/usr/bin/tesseract
OCR_LANGUAGES=ara+fra+spa
OCR_TIMEOUT=30

# ========================================
# CONFIGURACIÓN HSM (FIRMA DIGITAL)
# ========================================
# Opciones: software_fallback, pkcs11, azure_keyvault
HSM_TYPE=software_fallback

# Para HSM PKCS#11 (Hardware):
# HSM_LIBRARY_PATH=/usr/lib/hsm/libhsm.so
# HSM_PIN=your-hsm-pin-here
# HSM_SLOT_ID=0

# Para Azure Key Vault (Cloud HSM):
# AZURE_KEY_VAULT_URL=https://your-keyvault.vault.azure.net/
# AZURE_CLIENT_ID=your-azure-client-id
# AZURE_CLIENT_SECRET=your-azure-client-secret
# AZURE_TENANT_ID=your-azure-tenant-id

# ========================================
# ARCHIVOS Y UPLOADS
# ========================================
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=52428800
ALLOWED_FILE_TYPES=pdf,jpg,jpeg,png,tiff,doc,docx

# ========================================
# CORS Y SEGURIDAD WEB
# ========================================
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080,https://justicia.ma
ALLOWED_HOSTS=localhost,127.0.0.1,justicia.ma,*.justicia.ma

# ========================================
# CELERY (TAREAS ASÍNCRONAS)
# ========================================
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0
CELERY_TASK_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json

# ========================================
# RATE LIMITING
# ========================================
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ========================================
# MONITOREO Y ALERTAS
# ========================================
ENABLE_MONITORING=true
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/slack/webhook
ALERT_EMAIL=admin@justicia.ma
GRAFANA_ADMIN_PASSWORD=CHANGE_THIS_GRAFANA_PASSWORD

# ========================================
# CONFIGURACIÓN ESPECÍFICA MARRUECOS
# ========================================
MOROCCO_TIMEZONE=Africa/Casablanca
MOROCCO_CURRENCY=MAD
DEFAULT_LANGUAGE=ar

# ========================================
# COMPLIANCE Y AUDITORÍA
# ========================================
ENABLE_AUDIT_LOGGING=true
AUDIT_RETENTION_DAYS=2555
ENABLE_GDPR_COMPLIANCE=true

# ========================================
# CONFIGURACIÓN ESPECÍFICA POR SERVIDOR
# ========================================
SERVER_ID=server-1
PORT=8000

# ========================================
# VARIABLES DE PRODUCCIÓN
# ========================================
# Solo para producción - cambiar valores:

# ENVIRONMENT=production
# DEBUG=false
# SECRET_KEY=your-super-secure-secret-key-minimum-32-characters-here
# DATABASE_URL=postgresql://justicia:secure_password@db-server:5432/justicia_prod
# REDIS_URL=redis://redis-server:6379/0
# ELASTICSEARCH_URL=http://es-cluster:9200

# HSM Producción (Hardware):
# HSM_TYPE=pkcs11
# HSM_LIBRARY_PATH=/usr/lib/hsm/libhsm.so
# HSM_PIN=production-hsm-pin
# HSM_SLOT_ID=0

# Azure Key Vault (Producción):
# HSM_TYPE=azure_keyvault
# AZURE_KEY_VAULT_URL=https://morocco-justicia-kv.vault.azure.net/
# AZURE_CLIENT_ID=production-client-id
# AZURE_CLIENT_SECRET=production-client-secret
# AZURE_TENANT_ID=production-tenant-id

# Dominios de producción:
# ALLOWED_ORIGINS=https://justicia.ma,https://www.justicia.ma,https://app.justicia.ma
# ALLOWED_HOSTS=justicia.ma,www.justicia.ma,app.justicia.ma

# ========================================
# CONFIGURACIONES OPCIONALES
# ========================================

# Email (para notificaciones):
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=notifications@justicia.ma
# SMTP_PASSWORD=app-password
# SMTP_TLS=true

# Backup (para respaldos automáticos):
# BACKUP_ENABLED=true
# BACKUP_SCHEDULE="0 2 * * *"
# BACKUP_RETENTION_DAYS=30
# BACKUP_S3_BUCKET=justicia-backups
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key

# Logging avanzado:
# LOG_LEVEL=INFO
# LOG_FORMAT=json
# LOG_FILE=./logs/justicia.log

# Métricas y APM:
# ENABLE_METRICS=true
# PROMETHEUS_PORT=9090
# APM_SERVICE_NAME=justicia-digital
# ELASTIC_APM_SERVER_URL=http://apm-server:8200

# ========================================
# NOTAS IMPORTANTES
# ========================================
# 1. NUNCA commitear el archivo .env real al repositorio
# 2. Cambiar todas las contraseñas y secrets en producción
# 3. Usar certificados SSL válidos en producción
# 4. Configurar firewall para proteger puertos internos
# 5. Realizar backups regulares de la base de datos
# 6. Monitorear logs y métricas continuamente
# 7. Actualizar dependencias regularmente por seguridad